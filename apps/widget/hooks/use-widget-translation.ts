"use client";

import { useAtom } from "jotai";
import { widgetLanguageAtom } from "../modules/widget/atoms/widget-atoms";
import { useMemo } from "react";

// Widget-specific translations
const translations = {
  en: {
    greeting: "Hi! How can I help you today?",
    startChat: "Start chat",
    startVoice: "Start Voice Call",
    callUs: "Call us",
    chatDescription: "Chat with our AI assistant",
    voiceDescription: "Talk to our voice AI",
    contactDescription: "Speak with a human agent",
    quickHelp: "Quick Help",
    quickHelpDesc: "Our AI assistant is available 24/7 to help with any questions you might have.",
    supportAvailable: "Support available now",
    typeMessage: "Type your message...",
    send: "Send",
    back: "Back",
    aiAssistant: "AI Assistant",
    onlineReady: "Online & ready to help",
    hello: "Hello! How can I help you today?",
    aiAssistantDesc: "I'm your AI assistant, ready to help with appointments, insurance questions, and more. Choose a quick action below or type your message.",
    justNow: "Just now",
    earlier: "Earlier",
    thinking: "AI is responding...",
    conversationResolved: "This conversation has been resolved.",
    quickActions: "Quick Actions",
    newMessages: "New messages",
    selectLanguage: "Select Language",
    languageChanged: "Language changed",
    poweredBy: "Powered by SanTra-AI",
    loading: "Loading...",
    findingOrg: "Finding Organization ID...",
    verifyingOrg: "Verifying Organisation...",
    loadingSettings: "Loading widget settings...",
    loadingVoice: "Loading voice features...",
    letsGetStarted: "Let's get you started",
    enterName: "Enter your name",
    enterEmail: "Enter your email",
    continue: "Continue",
    nameRequired: "Name is required",
    emailRequired: "Email is required",
    invalidEmail: "Invalid email address",
  },
  hi: {
    greeting: "नमस्ते! आज मैं आपकी कैसे मदद कर सकता हूं?",
    startChat: "चैट शुरू करें",
    startVoice: "वॉयस कॉल शुरू करें",
    callUs: "हमें कॉल करें",
    chatDescription: "हमारे AI सहायक के साथ चैट करें",
    voiceDescription: "हमारे वॉयस AI से बात करें",
    contactDescription: "मानव एजेंट से बात करें",
    quickHelp: "त्वरित सहायता",
    quickHelpDesc: "हमारा AI सहायक आपके किसी भी सवाल में मदद के लिए 24/7 उपलब्ध है।",
    supportAvailable: "सपोर्ट अभी उपलब्ध है",
    typeMessage: "अपना संदेश लिखें...",
    send: "भेजें",
    back: "वापस",
    aiAssistant: "AI सहायक",
    onlineReady: "ऑनलाइन और मदद के लिए तैयार",
    hello: "नमस्ते! आज मैं आपकी कैसे मदद कर सकता हूं?",
    aiAssistantDesc: "मैं आपका AI सहायक हूं, अपॉइंटमेंट, बीमा सवालों और अन्य में मदद के लिए तैयार हूं। नीचे एक त्वरित क्रिया चुनें या अपना संदेश लिखें।",
    justNow: "अभी अभी",
    earlier: "पहले",
    thinking: "AI जवाब दे रहा है...",
    conversationResolved: "यह बातचीत हल हो गई है।",
    quickActions: "त्वरित क्रियाएं",
    newMessages: "नए संदेश",
    selectLanguage: "भाषा चुनें",
    languageChanged: "भाषा बदल गई",
    poweredBy: "SanTra-AI द्वारा संचालित",
    loading: "लोड हो रहा है...",
    findingOrg: "संगठन ID ढूंढ रहे हैं...",
    verifyingOrg: "संगठन सत्यापित कर रहे हैं...",
    loadingSettings: "विजेट सेटिंग्स लोड हो रही हैं...",
    loadingVoice: "वॉयस फीचर लोड हो रहे हैं...",
    letsGetStarted: "चलिए शुरू करते हैं",
    enterName: "अपना नाम दर्ज करें",
    enterEmail: "अपना ईमेल दर्ज करें",
    continue: "जारी रखें",
    nameRequired: "नाम आवश्यक है",
    emailRequired: "ईमेल आवश्यक है",
    invalidEmail: "अमान्य ईमेल पता",
  },
  bn: {
    greeting: "নমস্কার! আজ আমি কিভাবে আপনাকে সাহায্য করতে পারি?",
    startChat: "চ্যাট শুরু করুন",
    startVoice: "ভয়েস কল শুরু করুন",
    callUs: "আমাদের কল করুন",
    chatDescription: "আমাদের AI সহায়কের সাথে চ্যাট করুন",
    voiceDescription: "আমাদের ভয়েস AI এর সাথে কথা বলুন",
    contactDescription: "মানব এজেন্টের সাথে কথা বলুন",
    quickHelp: "দ্রুত সাহায্য",
    quickHelpDesc: "আমাদের AI সহায়ক আপনার যেকোনো প্রশ্নে সাহায্যের জন্য 24/7 উপলব্ধ।",
    supportAvailable: "সাপোর্ট এখন উপলব্ধ",
    typeMessage: "আপনার বার্তা টাইপ করুন...",
    send: "পাঠান",
    back: "পিছনে",
    aiAssistant: "AI সহায়ক",
    onlineReady: "অনলাইন এবং সাহায্যের জন্য প্রস্তুত",
    hello: "নমস্কার! আজ আমি কিভাবে আপনাকে সাহায্য করতে পারি?",
    aiAssistantDesc: "আমি আপনার AI সহায়ক, অ্যাপয়েন্টমেন্ট, বীমা প্রশ্ন এবং আরও অনেক কিছুতে সাহায্য করতে প্রস্তুত। নীচে একটি দ্রুত ক্রিয়া চয়ন করুন বা আপনার বার্তা টাইপ করুন।",
    justNow: "এইমাত্র",
    earlier: "আগে",
    thinking: "AI উত্তর দিচ্ছে...",
    conversationResolved: "এই কথোপকথন সমাধান করা হয়েছে।",
    quickActions: "দ্রুত ক্রিয়া",
    newMessages: "নতুন বার্তা",
    selectLanguage: "ভাষা নির্বাচন করুন",
    languageChanged: "ভাষা পরিবর্তিত",
    poweredBy: "SanTra-AI দ্বারা চালিত",
    loading: "লোড হচ্ছে...",
    findingOrg: "সংস্থা ID খুঁজছি...",
    verifyingOrg: "সংস্থা যাচাই করছি...",
    loadingSettings: "উইজেট সেটিংস লোড হচ্ছে...",
    loadingVoice: "ভয়েস ফিচার লোড হচ্ছে...",
    letsGetStarted: "চলুন শুরু করি",
    enterName: "আপনার নাম লিখুন",
    enterEmail: "আপনার ইমেল লিখুন",
    continue: "চালিয়ে যান",
    nameRequired: "নাম প্রয়োজন",
    emailRequired: "ইমেল প্রয়োজন",
    invalidEmail: "অবৈধ ইমেল ঠিকানা",
  },
};

export function useWidgetTranslation() {
  const [locale] = useAtom(widgetLanguageAtom);

  const t = useMemo(() => {
    return (key: keyof typeof translations.en): string => {
      return translations[locale][key] || translations.en[key];
    };
  }, [locale]);

  return { t, locale };
}